% Chapter 1

\chapter{Introducción general} % Main chapter title

\label{Chapter1} % For referencing the chapter elsewhere, use \ref{Chapter1} 
\label{IntroGeneral}

%----------------------------------------------------------------------------------------

% Define some commands to keep the formatting separated from the content 
\newcommand{\keyword}[1]{\textbf{#1}}
\newcommand{\tabhead}[1]{\textbf{#1}}
\newcommand{\code}[1]{\texttt{#1}}
\newcommand{\file}[1]{\texttt{\bfseries#1}}
\newcommand{\option}[1]{\texttt{\itshape#1}}
\newcommand{\grados}{$^{\circ}$}

%----------------------------------------------------------------------------------------

%\section{Introducción}

%----------------------------------------------------------------------------------------
% 1.1(5 hojas)---------------------------------------------------------------------------
%----------------------------------------------------------------------------------------
\section{Conceptos básicos de la presión arterial y sus métodos de medición}

En esta sección, se abordará la definición de la presión arterial normal y la hipertensión, 
así como el uso de las presurometrías como herramienta complementaria en su diagnóstico y seguimiento.

\subsection{Presión arterial normal e hipertensión arterial}

La presión arterial (PA) es la fuerza por unidad de superficie ejercida por la sangre contra las paredes 
de las arterias [1]. Sin profundizar en los principios físicos, parece relevante destacar que el corazón 
bombea la sangre de forma pulsátil. Por este motivo, la PA alterna entre una presión arterial sistólica (PAS) 
y una presión arterial diastólica (PAD). En la figura \ref{fig:aorticPulse} se expone un registro típico de las pulsaciones 
de la presión en la raíz de la arteria aorta. 

\begin{figure}[h]
  \centering
  \includegraphics[width=\textwidth]{./Figures/aortic-pulse-pressure.png}
  \caption{Representación esquemática del pulso de presión registrado en la aorta ascendente.}\label{fig:aorticPulse}
\end{figure}

En un adulto joven sano, la presión máxima o PAS es de 
120 mmHg y la presión mínima o PAD en cada pulso es de 80 mmHg. La diferencia entre estas dos presiones 
se conoce cómo la presión de pulso (PP) y ronda unos 40 mmHg. Por otro lado, la presión arterial media (PAM) 
está determinada en un 60\% por la PAD y en un 40\% por la PAS, dado que se invierte una mayor fracción 
del ciclo cardíaco en la diástole que en la sístole (2, 3). Así, la expresión matemática que describe 
a la PAM es la siguiente: 

\begin{equation}
	\label{eq:PAM}
	PAM = \frac{(2*PAD + PAS)}{3}
\end{equation}

La PA alta o hipertensión arterial (HTA) es uno de los principales factores de riesgo para las enfermedades 
cardiovasculares, tales cómo la enfermedad cerebrovascular, insuficiencia cardíaca, cardiopatía isquémica, 
enfermedad renal terminal, arteriopatía periférica y retinopatía [7]. Actualmente, se utiliza cómo guía 
la clasificación de HTA de la tabla \ref{tab:TablaHTA} [2].

\begin{table}[h]
	\centering
	\caption[Clasificación de la presión arterial por niveles]{Clasificación de la presión arterial por niveles.}
	\begin{tabular}{l c c c}    
		\toprule
		\textbf{Grado} 	      & \textbf{Presión arterial sistólica} 	& \textbf{}	& \textbf{Presión arterial diastólica}  \\
		\midrule
		Óptima                & <\ 120 mmHg                           & 	y			  & <\ 80 mmHg \\		
    Normal                & 120-129 mmHg                          &  	y/o			& 80-84 mmHg \\	
    Normal-alta           & 130-139 mmHg                          & 	y/o			& 85-89 mmHg \\	
    HTA de grado I        & 140-159 mmHg                          & 	y/o			& 90-99 mmHg \\
    HTA de grado II       & 160-179 mmHg                          & 	y/o			& 100-109 mmHg \\		
    HTA de grado III      & $\geq$  180 mmHg                      & 	y/o			& $\geq$  110 mmHg \\	
		\bottomrule
		\hline
	\end{tabular}
	\label{tab:TablaHTA}
\end{table}


\subsection{Presurometrías}

Las mediciones de PA en el consultorio médico son necesarias pero insuficientes para un adecuado diagnóstico, 
tratamiento y seguimiento de la HTA. El monitoreo ambulatorio de presión arterial (MAPA), también conocido 
como presurometría, es un examen complementario que permite evaluar la PA en el contexto de la vida cotidiana 
del paciente. A diferencia de las mediciones de PA en el consultorio, que se realizan en condiciones 
estandarizadas, el MAPA obtiene un gran número de mediciones a lo largo de un día habitual del paciente. 
Esto proporciona la capacidad de medir la tensión arterial durante el reposo, sueño, actividad física y mental, 
trabajo y período postprandial. Conocer la PA ambulatoria permite identificar diferentes patrones de HTA, tales 
como: HTA diurna, HTA nocturna, HTA durante todo el día, HTA durante el sueño e HTA de guardapolvo blanco 
(solo presente en el consultorio médico). Por lo tanto, este estudio puede ser un predictor más efectivo de 
la mortalidad y eventos cardiovasculares que simplemente basarse en la medición de la presión arterial en el 
consultorio médico [5, 7].

Actualmente, el MAPA es el único método disponible para medir la PA durante la noche, y diversos estudios 
demuestran que la PA nocturna tiene un mayor valor pronóstico que la PA diurna. Por esta razón, se recomienda 
incluir el MAPA cómo parte del diagnóstico de la HTA. Es especialmente útil cuando los valores de PA en el 
consultorio se encuentran en un rango limítrofe (grado normal-alta según la tabla \ref{tab:TablaHTA}) en 
varias consultas consecutivas. Las indicaciones actuales para definir la HTA mediante el MAPA se detallan 
en la tabla \ref{tab:HTA-MAPA}.

\begin{table}[h]
	\centering
	\caption[Valores de referencia para definir HTA por MAPA]{Valores de referencia para definir HTA por MAPA.}
	\begin{tabular}{l c c c}    
		\toprule
		\textbf{} 	      & \textbf{Presión arterial sistólica} 	& \textbf{}	& \textbf{Presión arterial diastólica}  \\
		\midrule
    PA de 24 horas     &  $\geq$ 130 mmHg                     & 	y/o			&  $\geq$ 80 mmHg \\	
    PA diurna          &  $\geq$ 135 mmHg                     & 	y/o			&  $\geq$ 85 mmHg \\	
    PA nocturna        &  $\geq$ 120 mmHg                     & 	y/o			&  $\geq$ 70 mmHg \\	
		\bottomrule
		\hline
	\end{tabular}
	\label{tab:HTA-MAPA}
\end{table}

El MAPA se lleva a cabo mediante dispositivos conocidos como presurómetros o \textit{holters} de presión arterial. 
Un técnico en cardiología coloca el presurómetro en el brazo del paciente, y se retira al día siguiente. 
El instrumento consiste en un manguito de presión arterial conectado a una grabadora, como se muestra en 
la figura \ref{fig:holter}. Esta realiza un inflado periódico cada 20 a 30 minutos, y los datos se almacenan en una memoria 
de estado sólido, generalmente en una tarjeta SD. Luego, los datos son analizados mediante el software del 
dispositivo.

\begin{figure}[h]
  \centering
  \includegraphics[width=.7\textwidth]{./Figures/presurometro.png}
  \caption{Esquema de un \textit{holter} de presión arterial.}
  \label{fig:holter}
\end{figure}


%----------------------------------------------------------------------------------------
% 1.2 (1 hoja)------------------------------------------------------------------------------------
%----------------------------------------------------------------------------------------
\section{Contexto y motivación}

La incorporación de técnicas de inteligencia artificial (IA) en la medicina cardiovascular es una de las principales 
motivaciones en la realización de este trabajo. A medida que la IA se desarrolla en distintos campos, su aplicación 
en el ámbito de la salud experimenta un crecimiento significativo. Sin embargo, uno de los desafíos clave que la IA 
enfrenta en la medicina es la limitación de datos disponibles para entrenar modelos de aprendizaje profundo [8].

En el caso particular del Hospital Alemán de Buenos Aires, el servicio de cardiología posee una gran cantidad de 
datos de informes de presurometrías de pacientes hipertensos. Aunque el personal carece de experiencia en herramientas 
de aprendizaje automático o aprendizaje profundo, los profesionales médicos comprenden el potencial de estos datos de 
MAPA para facilitar la identificación de patrones, factores de riesgo y respuestas al tratamiento de HTA. Además, 
es importante destacar que este trabajo se alinea con la misión del Hospital Alemán, que busca la actualización constante 
de tecnologías para garantizar una mejor atención médica basada en la investigación [9]. 


%----------------------------------------------------------------------------------------
% 1.3 (1 hoja)------------------------------------------------------------------------------------
%----------------------------------------------------------------------------------------

\section{Objetivos, alcance y requerimientos}

\subsection{Objetivos}
El propósito de este trabajo fue el desarrollo de un software de IA que permite predecir el riesgo de sufrir un evento 
grave en pacientes hipertensos. En particular, se busca predecir la ocurrencia de eventos cardiovasculares adversos 
mayores (MACE, por sus siglas en inglés). Este es un criterio de valoración compuesto que es empleado con frecuencia 
en la investigación cardiovascular. A pesar del uso generalizado del término en ensayos clínicos, las definiciones de 
MACE pueden diferir \cite{Kip2008}. Para este trabajo, se definió como la combinación de: accidente cerebrovascular no 
fatal, infarto agudo de miocardio, insuficiencia cardíaca, insuficiencia renal crónica o muerte. De este modo, un valor 
de MACE equivalente a la unidad indica la existencia de alguno de los eventos graves mencionados anteriormente, mientras 
que un valor nulo se refiere la ausencia de estos. 

Como resultado, este trabajo permite al servicio de cardiología e hipertensión del Hospital Alemán definir estrategias 
de tratamiento integral personalizadas para cada grupo de riesgo. 

\subsection{Alcance}
Se encuentra dentro del alcance del trabajo elaborar un dataset con variables provenientes de presurometrías. El conjunto 
de datos debe estar en cumplimiento con la ley 25.326 para garantizar el derecho al honor y a la intimidad de los 
pacientes en cuestión. Además, es parte del alcance del trabajo seleccionar y elaborar un modelo de inteligencia 
artificial que prediga MACE en pacientes hipertensos. Asimismo, se incluye en el alcance la definición de métricas 
para evaluar el correcto desempeño del modelo.

Sin embargo, no se encuentra dentro del alcance del proyecto la instalación del software desarrollado dentro de los 
establecimientos del Hospital Alemán. Tampoco se encuentra dentro del alcance la implementación de una aplicación 
visual e interactiva para que utilice el usuario final.


\subsection{Requerimientos}
A continuación, se listan los requerimientos principales del trabajo agrupados por afinidad:

\begin{enumerate}
	\item Requerimientos funcionales:
		\begin{enumerate}
			\item El código desarrollado deberá ser 
			capaz de estratificar a los pacientes en diferentes grupos de riesgo.
			\item El área bajo la curva ROC (acrónimo de \emph{Receiver Operating Characteristic}, 
			o característica operativa del receptor) del modelo deberá ser superior a 85\%.
		\end{enumerate}
	\item Requerimientos de documentación:
		\begin{enumerate}
			\item El código desarrollado deberá estar bien documentado. 
			Es decir, se deben incluir comentarios que permitan a cualquier persona comprender
			qué se está haciendo y por qué. 
		\end{enumerate}
	\item Requerimiento de testing:
		\begin{enumerate}
			\item Los resultados del código desarrollado deberán ser aprobados por el cliente 
			y los usuarios finales.
		\end{enumerate}
	\item Requerimientos reglamentarios:
		\begin{enumerate}
			\item Los datos clínicos deberán ser de carácter anónimo, cumpliendo con la ley 25.326 que reglamenta la protección de datos personales. 
			Para ello, se distinguirá a cada paciente mediante un número de identificación.
		\end{enumerate}

\end{enumerate}



%----------------------------------------------------------------------------------------
% 1.4 (1 hoja)------------------------------------------------------------------------------------
%----------------------------------------------------------------------------------------

\section{Estado del arte}

%Ante de comenzar a editar la plantilla debemos tener un editor \LaTeX{} instalado en nuestra computadora.  En forma análoga a lo que sucede en lenguaje C, que se puede crear y editar código con casi cualquier editor, existen ciertos entornos de trabajo que nos pueden simplificar mucho la tarea.  En este sentido, se recomienda, sobre todo para los principiantes en \LaTeX{} la utilización de TexMaker, un programa gratuito y multi-plantaforma que está disponible tanto para windows como para sistemas GNU/linux.

%La versión más reciente de TexMaker es la 4.5 y se puede descargar del siguiente link: \url{http://www.xm1math.net/texmaker/download.html}. Se puede consultar el manual de usuario en el siguiente link: \url{http://www.xm1math.net/texmaker/doc.html}.
 

\subsection{Predicción de MACE a partir de otras fuentes}

%Si bien durante el proceso de instalación de TexMaker, o cualquier otro editor que se haya elegido, se instalarán en el sistema los paquetes básicos necesarios para trabajar con \LaTeX{}, la plantilla de los trabajos de Especialización y Maestría requieren de paquete adicionales.

%Se indican a continuación los comandos que se deben introducir en la consola de Ubuntu (ctrl + alt + t) para instalarlos:

%\begin{lstlisting}[language=bash]
%  $ sudo apt install texlive-lang-spanish texlive-science 
%  $ sudo apt install texlive-bibtex-extra biber
%  $ sudo apt install texlive texlive-fonts-recommended
%  $ sudo apt install texlive-latex-extra
%\end{lstlisting}


\subsection{Predicción del riesgo de padecer enfermedades cardiovasculares}
%\label{subsec:configurando}

%Una vez instalado el programa y los paquetes adicionales se debe abrir el archivo memoria.tex con el editor para ver una pantalla similar a la que se puede apreciar en la figura \ref{fig:texmaker}. 

\vspace{1cm}

\begin{figure}[htbp]
	\centering
	\includegraphics[width=.5\textwidth]{./Figures/texmaker.png}
	\caption{Entorno de trabajo de texMaker.}
	\label{fig:texmaker}
\end{figure}

\vspace{1cm}

Notar que existe una vista llamada Estructura a la izquierda de la interfaz que nos permite abrir desde dentro del programa los archivos individuales de los capítulos.  A la derecha se encuentra una vista con el archivo propiamente dicho para su edición. Hacia la parte inferior se encuentra una vista del log con información de los resultados de la compilación.  En esta última vista pueden aparecen advertencias o \textit{warning}, que normalmente pueden ser ignorados, y los errores que se indican en color rojo y deben resolverse para que se genere el PDF de salida.

Recordar que el archivo que se debe compilar con PDFLaTeX es \file{memoria.tex}, si se tratara de compilar alguno de los capítulos saldría un error.  Para salvar la molestia de tener que cambiar de archivo para compilar cada vez que se realice una modificación en un capítulo, se puede definir el archivo \file{memoria.tex} como ``documento maestro'' yendo al menú opciones -> ``definir documento actual como documento maestro'', lo que permite compilar con PDFLaTeX memoria.tex directamente desde cualquier archivo que se esté modificando . Se muestra esta opción en la figura \ref{fig:docMaestro}.

\begin{figure}[h]
	\centering
	\includegraphics[width=\textwidth]{./Figures/docMaestro.png}
	\caption{Definir memoria.tex como documento maestro.}
	\label{fig:docMaestro}
\end{figure}

En el menú herramientas se encuentran las opciones de compilación.  Para producir un archivo PDF a partir de un archivo .tex se debe ejecutar PDFLaTeX (el shortcut es F6). Para incorporar nueva bibliografía se debe utilizar la opción BibTeX del mismo menú herramientas (el shortcut es F11).

Notar que para actualizar las tablas de contenidos se debe ejecutar PDFLaTeX dos veces.  Esto se debe a que es necesario actualizar algunos archivos auxiliares antes de obtener el resultado final.  En forma similar, para actualizar las referencias bibliográficas se debe ejecutar primero PDFLaTeX, después BibTeX y finalmente PDFLaTeX dos veces por idénticos motivos.

\section{Personalizando la plantilla, el archivo \file{memoria.tex}}
\label{sec:FillingFile}

Para personalizar la plantilla se debe incorporar la información propia en los distintos archivos \file{.tex}. 

Primero abrir \file{memoria.tex} con TexMaker (o el editor de su preferencia). Se debe ubicar dentro del archivo el bloque de código titulado \emph{INFORMACIÓN DE LA PORTADA} donde se deben incorporar los primeros datos personales con los que se construirá automáticamente la portada.


%----------------------------------------------------------------------------------------

\section{El código del archivo \file{memoria.tex} explicado}

El archivo \file{memoria.tex} contiene la estructura del documento y es el archivo de mayor jerarquía de la memoria.  Podría ser equiparable a la función \emph{main()} de un programa en C, o mejor dicho al archivo fuente .c donde se encuentra definida la función main().

La estructura básica de cualquier documento de \LaTeX{} comienza con la definición de clase del documento, es seguida por un preámbulo donde se pueden agregar funcionalidades con el uso de \texttt{paquetes} (equiparables a bibliotecas de C), y finalmente, termina con el cuerpo del documento, donde irá el contenido de la memoria.

\lstset{%
  basicstyle=\small\ttfamily,
  language=[LaTeX]{TeX}
}

\begin{lstlisting}
\documentclass{article}  <- Definicion de clase
\usepackage{listings}	 <- Preambulo

\begin{document}	 <- Comienzo del contenido propio 
	Hello world!
\end{document}
\end{lstlisting}


El archivo \file{memoria.tex} se encuentra densamente comentado para explicar qué páginas, secciones y elementos de formato está creando el código \LaTeX{} en cada línea. El código está dividido en bloques con nombres en mayúsculas para que resulte evidente qué es lo que hace esa porción de código en particular. Inicialmente puede parecer que hay mucho código \LaTeX{}, pero es principalmente código para dar formato a la memoria por lo que no requiere intervención del usuario de la plantilla.  Sí se deben personalizar con su información los bloques indicados como:

\begin{itemize}
	\item Informacion de la memoria
	\item Resumen
	\item Agradecimientos
	\item Dedicatoria
\end{itemize}

El índice de contenidos, las listas de figura de tablas se generan en forma automática y no requieren intervención ni edición manual por parte del usuario de la plantilla. 

En la parte final del documento se encuentran los capítulos y los apéndices.  Por defecto se incluyen los 5 capítulos propuestos que se encuentran en la carpeta /Chapters. Cada capítulo se debe escribir en un archivo .tex separado y se debe poner en la carpeta \emph{Chapters} con el nombre \file{Chapter1}, \file{Chapter2}, etc\ldots El código para incluir capítulos desde archivos externos se muestra a continuación.

\begin{verbatim}
	\include{Chapters/Chapter1}
	\include{Chapters/Chapter2} 
	\include{Chapters/Chapter3}
	\include{Chapters/Chapter4} 
	\include{Chapters/Chapter5} 
\end{verbatim}

Los apéndices también deben escribirse en archivos .tex separados, que se deben ubicar dentro de la carpeta \emph{Appendices}. Los apéndices vienen comentados por defecto con el caracter \code{\%} y para incluirlos simplemente se debe eliminar dicho caracter.

Finalmente, se encuentra el código para incluir la bibliografía en el documento final.  Este código tampoco debe modificarse. La metodología para trabajar las referencias bibliográficas se desarrolla en la sección \ref{sec:biblio}.
%----------------------------------------------------------------------------------------

\section{Bibliografía}
\label{sec:biblio}

Las opciones de formato de la bibliografía se controlan a través del paquete de latex \option{biblatex} que se incluye en la memoria en el archivo memoria.tex.  Estas opciones determinan cómo se generan las citas bibliográficas en el cuerpo del documento y cómo se genera la bibliografía al final de la memoria.

En el preámbulo se puede encontrar el código que incluye el paquete biblatex, que no requiere ninguna modificación del usuario de la plantilla, y que contiene las siguientes opciones:

\begin{lstlisting}
\usepackage[backend=bibtex,
	natbib=true, 
	style=numeric, 
	sorting=none]
{biblatex}
\end{lstlisting}

En el archivo \file{reference.bib} se encuentran las referencias bibliográficas que se pueden citar en el documento.  Para incorporar una nueva cita al documento lo primero es agregarla en este archivo con todos los campos necesario.  Todas las entradas bibliográficas comienzan con $@$ y una palabra que define el formato de la entrada.  Para cada formato existen campos obligatorios que deben completarse. No importa el orden en que las entradas estén definidas en el archivo .bib.  Tampoco es importante el orden en que estén definidos los campos de una entrada bibliográfica. A continuación se muestran algunos ejemplos:

\begin{lstlisting}
@ARTICLE{ARTICLE:1,
    AUTHOR="John Doe",
    TITLE="Title",
    JOURNAL="Journal",
    YEAR="2017",
}
\end{lstlisting}


\begin{lstlisting}
@BOOK{BOOK:1,
    AUTHOR="John Doe",
    TITLE="The Book without Title",
    PUBLISHER="Dummy Publisher",
    YEAR="2100",
}
\end{lstlisting}


\begin{lstlisting}
@INBOOK{BOOK:2,
    AUTHOR="John Doe",
    TITLE="The Book without Title",
    PUBLISHER="Dummy Publisher",
    YEAR="2100",
    PAGES="100-200",
}
\end{lstlisting}


\begin{lstlisting}
@MISC{WEBSITE:1,
    HOWPUBLISHED = "\url{http://example.com}",
    AUTHOR = "Intel",
    TITLE = "Example Website",
    MONTH = "12",
    YEAR = "1988",
    URLDATE = {2012-11-26}
}
\end{lstlisting}

Se debe notar que los nombres \emph{ARTICLE:1}, \emph{BOOK:1}, \emph{BOOK:2} y \emph{WEBSITE:1} son nombres de fantasía que le sirve al autor del documento para identificar la entrada. En este sentido, se podrían reemplazar por cualquier otro nombre.  Tampoco es necesario poner : seguido de un número, en los ejemplos sólo se incluye como un posible estilo para identificar las entradas.

La entradas se citan en el documento con el comando: 

\begin{verbatim}
\citep{nombre_de_la_entrada}
\end{verbatim}

Y cuando se usan, se muestran así: \citep{ARTICLE:1}, \citep{BOOK:1}, \citep{BOOK:2}, \citep{WEBSITE:1}.  Notar cómo se conforma la sección Bibliografía al final del documento.

Finalmente y como se mencionó en la subsección \ref{subsec:configurando}, para actualizar las referencias bibliográficas tanto en la sección bibliografía como las citas en el cuerpo del documento, se deben ejecutar las herramientas de compilación PDFLaTeX, BibTeX, PDFLaTeX, PDFLaTeX, en ese orden.  Este procedimiento debería resolver cualquier mensaje "Citation xxxxx on page x undefined".
